%%% LaTeX Template: Article/Thesis/etc. with colored headings and special fonts
%%%
%%% Source: http://www.howtotex.com/

\documentclass[12pt]{article}


\usepackage{apuntes-estilo}
\usepackage{fancyhdr,lastpage}
\usepackage{verbatim}



\def\maketitle{

% Titulo 
 \makeatletter
 {\color{bl} \centering \huge \sc \textbf{
Trabajo práctico N 3 \\
\large \vspace*{-8pt} \color{black} Arbol de Directorios
 \vspace*{8pt} }\par}
 \makeatother


% Autor
 \makeatletter
 {\centering \small 
	Introducción a la Administración de Sistemas \\
 	Departamento de Ingeniería de Computadoras \\
 	Facultad de Informática - Universidad Nacional del Comahue \\
 	\vspace{20pt} }
 \makeatother

}

% Custom headers and footers
\fancyhf{} % clear all header and footer fields
\fancypagestyle{plain}{\fancyhf{}}
  	\pagestyle{fancy}
 	\lhead{\footnotesize TP N 3 - Arbol de Directorios }
 	\rhead{\footnotesize \thepage\ }	% "Page 1 of 2"

\def\ti#1#2{\texttt{#1} & #2 \\ }



\begin{document}

\thispagestyle{empty}
\maketitle
\setlength{\parindent}{0pt}

\paragraph{Los siguientes ejercicios se realizan en su totalidad en el equipo asignado al grupo.
Utilice la redirección y el editor \texttt{vi} para guardar las salidas y editar los resultados 
en un archivo llamado trabajo-practico-3.txt . En el archivo de resolución indique su nombre y apellido, y el número de ejercicio a resolver, junto a la salida incluyendo el comando que ejecuta. }

\section{Ejercicio 1.}

\begin{enumerate}
\item Sobre el directorio /etc
\begin{itemize}
\item - ¿Qué tipo de archivos hay en ese directorio?
\end{itemize}

\item El archivo /etc/passwd contiene el listado de usuarios del sistema.
Cada linea de texto en ese archivo define los detalles de un unico usuario.

\begin{itemize}
\item - Utilice cat para visualizar el contenido de /etc/passwd, en la pantalla.
\item - Utilice cat y redirija la salida al archivo en donde coloca los resultados del practico.
\item - ¿Cuántos usuarios hay definidos en el sistema?
Ayuda: Utilice el comando cat redirigiendo la salida a wc (word count) para contar cuantas lineas
existen en el archivo.
\end{itemize}


\item El archivo /etc/shadow contiene las passwords de los usuarios de manera encriptada.
\begin{itemize}
\item - ¿Que permisos tiene ese archivo? Utilice el comando ls y redirija la salida a trabajo-practico-3.txt
\item - ¿Quien puede leer y modificar ese archivo?
\item - ¿Puede un usuario comun modificar /etc/shadow? ¿Explique porqué?
\end{itemize}


\item El archivo /etc/debian\_version contiene en texto plano el nombre de la
versión de Debian Linux instalada.
\begin{itemize}
\item - ¿Qué versión de Debian utiliza en la práctica?
\end{itemize}
\end{enumerate}


\section{Ejercicio 2.}
Sobre el directorio /usr/bin

\begin{itemize}
\item - ¿Qué tipo de archivos hay en ese directorio?
\item - ¿Cuáles son los permisos del directorio /usr/bin?
\item - ¿Quien puede modificar el contenido de ese directorio?
\item - ¿Por qué el directorio debe tener esos permisos, y no otros?
\end{itemize}


\section{Ejercicio 3.}
El comando du se puede utilizar para ver el espacio utilizado por archivos y directorios.
Si ejecuta du -h /etc el sistema muestra de manera legible (el argumento -h significa "legible para las personas")
el espacio utilizado en el directorio /etc (suma los tamaños de todos los archivos y directorios que estén dentro de /etc).

\begin{itemize}
\item - ¿Cuanto espacio utiliza el directorio /usr?
\item - ¿Porqué el directorio /usr ocupa mas espacio que /etc?
\item - ¿Cuanto espacio utiliza el directorio raiz / ?
\end{itemize}


\section{Ejercicio 4.}
\begin{enumerate}
\item El comando hostname se utiliza para conocer el nombre del sistema (o para definirlo).
\begin{itemize}
\item - ¿Qué nombre tiene su sistema?
\end{itemize}
\end{enumerate}

\begin{enumerate}
\item El programa hostname viene empaquetado en un paquete de nombre homónimo.
El comando dpkg -L hostname  lista los archivos que el paquete hostname instaló en el sistema.
\begin{itemize}
\item - Indique que son cada uno de los archivos listados (por ejemplo: si son binarios ejecutables, archivos de configuracion, archivos de log, etc).
\end{itemize}
\end{enumerate}



\section{Ejercicio 5.}
El archivo /proc/meminfo contiene información de la memoria utilizada en kilobytes.

\begin{itemize}
\item - Utilice cat para ver la información.
\item - ¿Cuanta memoria total en MegaBytes tiene el sistema?
\item - ¿Cuanta memoria se está utilizando del total? (en MegaBytes).
\end{itemize}


\section{Ejercicio 6.}
En el directorio /proc existen directorios con nombres "numéricos", que corresponden con el PID de los procesos del sistema.
Estos directorios contienen información de los procesos (de los programas en ejecución).
\begin{itemize}
\item - Liste los directorios en /proc, en el cual, su nombre, comience con un número.
\item - Cuente con wc -l el listado anterior. ¿Cuántos procesos tiene en ejecucion el sistema?.
\item - Ejecute ps -ef , y ps -ef | wc -l . ¿Qué reporta ps -ef?
\item - ¿Coincide la cantidad de procesos reportados con ps -ef con el obtenido en el primer inciso de este ejercicio?
\end{itemize}


\section{Ejercicio 7.}
El comando find /var lista todos los archivos y directorios que exiten debajo de /var.
\begin{itemize}
\item - ¿Cuantos archivos y directorios contiene el /var de su sistema?
\item - ¿Cuanto espacio utiliza en disco todo el /var?
\item - ¿Cuál es el directorio en donde el sistema guarda los mensajes de log?
\item - Mencione 5 archivos de log de su sistema.
\end{itemize}







\section*{Procesos}
Ayuda: \texttt{ps ; man ps}
\begin{enumerate}
\item Obtenga la lista de \textit{todos} los programas en ejecución, incluyendo al menos la siguiente información:
dueño del proceso, identificador de proceso (PID), identificador del padre (PPID),
comando que inició el proceso. Guarde esta salida en un archivo llamado \texttt{tp02.txt}.
\item De la lista anterior identifique cuál es el primer proceso del sistema. \\ \\
\textbf{Usando el editor vi :} 
\item De la lista del primer inciso, obtenga exclusivamente aquellos que son hijos directos del primer proceso del sistema. ¿Cómo obtuvo el listado? (Recuerde ``n1,n2y'' en modo normal copia las líneas n1 a n2).
\end{enumerate}

\section*{Entorno del shell}
Ayuda: \texttt{env}
\begin{enumerate}
\item De la lista de variables de entorno de su shell, obtenga únicamente el valor de la variable \texttt{LANG} y redirija la salida a un archivo llamado \texttt{tp02-2.txt}. ¿Qué valor tiene la variable?.

\item Obtenga \textbf{solamente el valor} de la variable LANG ejecutando:\texttt{echo \$LANG}. ¿Qué función cumple esta variable, por ejemplo cuando ejecutamos el comando man? 
\item Cambiar el valor de la variable \texttt{PS1} ejecutando:\texttt{PS1=``Ingrese el comando a ejecutar: ''}.
Ejecutar algunos comandos al azar. ¿Qué observa?. Redefinir la variable ejecutando
\texttt{PS1=``\textbackslash u@\textbackslash H:\textbackslash w \textbackslash \$ ''}.
En la página de manual de \texttt{bash} busque y lea la sección \texttt{INDICADORES} para entender cómo funciona esta última asignación.
\item Ejecutar la siguiente secuencia:
	\begin{itemize}
	\item \$ echo \$HOME
	\item \$ cd 
	\item \$ pwd
	\item \$ HOME=/tmp
	\item \$ cd 
	\item \$ pwd
	\item \$ ¿Qué observa? ¿Qué función cumple la variable \$HOME?
	\end{itemize}
\end{enumerate}

\section*{Comodines}
\begin{enumerate}
\item Crear un directorio llamado \texttt{test/} e ingresar al mismo.
Los incisos siguientes deberán realizarce dentro de dicho directorio. 
\item En un shell bash ejecute los siguientes comandos:
	\begin{itemize}
	\item Crear un archivo llamado \texttt{creador.sh} con el siguiente texto:
	\begin{verbatim}
	#!/bin/bash

	for ((i=0;i<4;i++));do 
	  for ((j=0;j<10;j++));do 

                if [ $i -lt 2 ];then 
                    echo "Archivo $i$j" > Cap$i$j.txt
                elif [ $i -lt 3 ] ;then 
                    echo "Otro archivo $i$j" > cap$i$j.txt
                else
                    echo "Esto no es un PDF $i$j" > Cap$j.pdf
                fi

	  done 
	done
	\end{verbatim}
	\item Asigne permisos de ejecución al archivo: \texttt{chmod u+x creador.sh} (observe los permisos con el comando \texttt{ls -l})
	\item Liste el contenido del directorio test.
	\item Ejecute el \texttt{script} recién creado: \texttt{./creador.sh}
	\item Liste  el contenido del directorio test. ¿Cuál es la función del \texttt{script creador.sh}? 
 	\end{itemize}
\item Utilice comodines tal que el comando \texttt{ls} liste todos los archivos finalizados en ``.txt''.
\item Utilice comodines tal que el comando \texttt{ls} liste todos los archivos que comienzan con ``cap'' y finalizan en ``.txt''
\item Utilice comodines tal que el comando \texttt{cat} muestre el contenido de los archivos Cap10.txt a Cap19.tx
\item Utilice comodines tal que el comando \texttt{cat} muestre el contenido de los archivos cuyo nombre contenga cualquiera de los siguientes números: 03, 04, 05, 23, 24 y 25 
\item Utilice comodines tal que el comando \texttt{rm} elimine todos los archivos del directorio test \textbf{a excepción} de \texttt{creador.sh}
\end{enumerate}

\section*{Redirección y filtros}
\begin{enumerate}
\item Ejecute el comando \texttt{who}. ¿Qué información obtiene?
\item El comando \texttt{wc} (del inglés ``word count'') permite con la opción \texttt{-l}  (vea \texttt{man wc}) contar 
líneas en un archivo. Utilice este comando y \texttt{\textbar} para obtenga el número de usuarios que iniciaron 
sesión en el sistema. 
\item Ingrese al directorio test creado en la sección ``Comodines'' y vuelva a ejecutar el script \texttt{creador.sh}
\item Utilizando el comando \texttt{cat} muestre el contenido de los archivos finalizados en txt o pdf. 
\item Idem anterior pero esta vez redireccione la salida a un archivo llamado capitulos.txt
\item Utilizando el comando \texttt{grep} obtenga del archivo capitulos.txt las líneas que contengan el dígito 3. 
\item Utilizando el comando \texttt{grep} obtenga directamente de la salida de \texttt{cat} (esto es sin usar un archivo 
intermedio) las líneas que contengan la palabra archivo (ya sea en minúsculas o mayúsculas). Ayuda: en inglés 
si algo es sensible a la diferencia entre mayúsculas y minúsuclas se dice ``case sesitive'', por otro lado 
si no lo es se dice ``case insensitive'' \texttt{man grep}.  
\item Utilizando el comando \texttt{grep} obtenga la lista de procesos que corresponden solamente al usuario \texttt{root}



\end{enumerate}



\end{document}
